import pandas as pd
import statsmodels.api as sm

data = {
    "voltage_set": [
        100, 100, 100, 100, 100, 100, 100, 100,
        95, 95, 95, 95, 95, 95, 95, 95,
        90, 90, 90, 90, 90, 90, 90, 90,
        85, 85, 85, 85, 85, 85, 85, 85,
        80, 80, 80, 80, 80, 80, 80, 80,
        75, 75, 75, 75, 75, 75, 75, 75,
        70, 70, 70, 70, 70, 70, 70, 70,
        65, 65, 65, 65, 65, 65, 65, 65,
        60, 60, 60, 60, 60, 60, 60, 60,
        55, 55, 55, 55, 55, 55, 55, 55,
        50, 50, 50, 50, 50, 50, 50, 50,
        45, 45, 45, 45, 45, 45, 45, 45,
        40, 40, 40, 40, 40, 40, 40, 40
    ],
    "frequency":  [
        2, 1.9, 1.8, 1.7, 1.6, 1.5, 1.4, 1.3,
        2, 1.9, 1.8, 1.7, 1.6, 1.5, 1.4, 1.3,
        2, 1.9, 1.8, 1.7, 1.6, 1.5, 1.4, 1.3,
        2, 1.9, 1.8, 1.7, 1.6, 1.5, 1.4, 1.3,
        2, 1.9, 1.8, 1.7, 1.6, 1.5, 1.4, 1.3,
        2, 1.9, 1.8, 1.7, 1.6, 1.5, 1.4, 1.3,
        2, 1.9, 1.8, 1.7, 1.6, 1.5, 1.4, 1.3,
        2, 1.9, 1.8, 1.7, 1.6, 1.5, 1.4, 1.3,
        2, 1.9, 1.8, 1.7, 1.6, 1.5, 1.4, 1.3,
        2, 1.9, 1.8, 1.7, 1.6, 1.5, 1.4, 1.3,
        2, 1.9, 1.8, 1.7, 1.6, 1.5, 1.4, 1.3,
        2, 1.9, 1.8, 1.7, 1.6, 1.5, 1.4, 1.3,
        2, 1.9, 1.8, 1.7, 1.6, 1.5, 1.4, 1.3
    ],
    "voltage_out": [
        100, 106, 114, 122, 112.2, 138.2, 149.6, 154,
        90, 96, 102, 112, 120.8, 128.8, 138.2, 144,
        80, 86, 80, 102, 110.4, 110.4, 128.8, 136,
        70, 74, 82, 91, 100.8, 100.8, 118.4, 125.4,
        60, 68, 72, 81.4, 91, 91, 109.4, 117.4,
        50, 56, 64, 72, 80, 80, 99, 106.4,
        44, 48, 54, 63.2, 71, 71, 91, 97.4,
        40, 42, 48, 55.2, 63.2, 63.2, 81.4, 87,
        32, 36, 42, 48, 56, 56, 72, 80,
        28, 32, 36, 43.2, 49.4, 49.4, 64, 71,
        22, 28, 32, 36.6, 43.2, 43.2, 57.4, 62.4,
        20, 24, 28, 32, 37.4, 37.4, 48.6, 55.2,
        18, 20, 24, 28, 32, 32, 43.2, 48
    ]
}


print(f"count {len(data['voltage_set'])}, {len(data['frequency'])}, {len(data['voltage_out'])}")
df = pd.DataFrame(data)

X = sm.add_constant(df[["voltage_set", "frequency"]])
y = df["voltage_out"]

model = sm.OLS(y, X).fit()

print(model.summary())
